<!DOCTYPE html>
<html lang="fa" dir="rtl" class="scroll-smooth dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>وبسایت شخصی حسین طاهری | توسعه‌دهنده خلاق</title>
  <link rel="icon" type="image/png" href="./favicon.png">

  <!-- CDN ها -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.20.15/babel.min.js"></script>
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- فونت -->
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- استایل‌های سفارشی -->
  <style>
    body {
      font-family: 'Vazirmatn', sans-serif;
      background-color: #0f172a; /* slate-900 */
      color: #e2e8f0; /* slate-200 */
    }
    .section-hidden { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
    .section-visible { opacity: 1; transform: translateY(0); }
    .gradient-text {
      background: linear-gradient(to right, #2dd4bf, #0891b2); /* teal-400 to cyan-600 */
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body>
  
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // === کامپوننت‌های کمکی و هوک‌ها ===
    const useAnimatedSection = () => {
      const ref = useRef(null);
      const [isVisible, setIsVisible] = useState(false);
      useEffect(() => {
        const observer = new IntersectionObserver(([entry]) => {
          if (entry.isIntersecting) { setIsVisible(true); observer.unobserve(entry.target); }
        }, { rootMargin: '0px 0px -50px 0px' });
        if (ref.current) observer.observe(ref.current);
        return () => ref.current && observer.unobserve(ref.current);
      }, []);
      return [ref, isVisible];
    };
    const AnimatedSection = ({ children, className = "", id }) => {
        const [ref, isVisible] = useAnimatedSection();
        return <section ref={ref} id={id} className={`${className} ${isVisible ? 'section-visible' : 'section-hidden'}`}>{children}</section>;
    };

    // === تعریف کامپوننت‌های اصلی سایت ===

    // 1. کامپوننت Header
    function Header() {
      const [isOpen, setIsOpen] = useState(false);
      const [isScrolled, setIsScrolled] = useState(false);
      useEffect(() => {
        const handleScroll = () => setIsScrolled(window.scrollY > 10);
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, []);
      const navItems = [
        { label: 'خانه', id: '#home' }, { label: 'درباره من', id: '#about' },
        { label: 'نمونه‌کارها', id: '#portfolio' }, { label: 'مهارت‌ها', id: '#skills' },
        { label: 'تماس', id: '#contact' }
      ];
      return (
        <header className={`sticky top-0 z-50 transition-all duration-300 ${isScrolled ? 'bg-slate-900/80 backdrop-blur-lg shadow-md' : 'bg-transparent'}`}>
          <div className="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" className="flex items-center gap-3">
              <img src="./assets/profile2.jpg" alt="لوگو" className="w-12 h-12 rounded-full border-2 border-teal-500 object-cover" />
              <h1 className="text-2xl font-bold gradient-text">حسین طاهری</h1>
            </a>
            <nav className="hidden md:flex items-center gap-2">
              {navItems.map(item => (
                <a key={item.id} href={item.id} className="px-4 py-2 text-lg font-medium text-slate-300 hover:text-teal-400 transition-colors">
                  {item.label}
                </a>
              ))}
            </nav>
            <button onClick={() => setIsOpen(!isOpen)} className="md:hidden text-slate-300">
              <i data-feather={isOpen ? "x" : "menu"}></i>
            </button>
          </div>
          <div className={`md:hidden ${isOpen ? 'block' : 'hidden'} bg-slate-800 absolute w-full shadow-lg`}>
            <div className="flex flex-col items-center py-4">
              {navItems.map(item => (
                <a key={item.id} href={item.id} onClick={() => setIsOpen(false)} className="py-3 text-lg w-full text-center text-slate-200 hover:bg-slate-700 transition-colors">
                  {item.label}
                </a>
              ))}
            </div>
          </div>
        </header>
      );
    }

    // 2. کامپوننت Hero
    function Hero() {
      const backgroundImages = [ './assets/hero-bg1.jpg', './assets/hero-bg2.jpg', './assets/hero-bg3.jpg' ];
      const [currentBgIndex, setCurrentBgIndex] = useState(0);
      useEffect(() => {
        const intervalId = setInterval(() => {
          setCurrentBgIndex(prevIndex => (prevIndex + 1) % backgroundImages.length);
        }, 7000);
        return () => clearInterval(intervalId);
      }, []);
      return (
        <section id="home" className="min-h-screen flex items-center justify-center text-white relative overflow-hidden">
          {backgroundImages.map((bg, index) => (
            <div key={index} className="absolute inset-0 w-full h-full bg-cover bg-center transition-opacity duration-2000 ease-in-out"
              style={{ backgroundImage: `url(${bg})`, opacity: index === currentBgIndex ? 1 : 0 }} />
          ))}
          <div className="absolute inset-0 bg-black bg-opacity-60" />
          <div className="container mx-auto px-4 text-center z-10 animate-fade-in">
            <div className="relative w-40 h-40 mx-auto mb-8">
              <div className="absolute inset-0 rounded-full border-4 border-teal-500 opacity-75 animate-pulse"></div>
              <img src="./assets/profile.jpg" alt="عکس پروفایل حسین" className="relative w-full h-full rounded-full shadow-2xl border-4 border-white/20 object-cover" />
            </div>
            <h2 className="text-5xl font-bold mb-4 drop-shadow-lg">سلام، من حسین هستم</h2>
            <p className="text-xl mb-8 max-w-2xl mx-auto drop-shadow-md">توسعه‌دهنده‌ای خلاق با تخصص در Flutter، Android و طراحی UI/UX.</p>
            <div className="flex flex-col sm:flex-row justify-center items-center gap-6">
              <a href="#portfolio" className="bg-teal-500 text-white px-8 py-3 rounded-full hover:bg-teal-600 transition-colors text-lg font-semibold shadow-lg">مشاهده نمونه‌کارها</a>
              <a href="#contact" className="bg-white/10 border-2 border-white/50 text-white px-8 py-3 rounded-full hover:bg-white hover:text-teal-600 transition-colors text-lg font-semibold shadow-lg">تماس با من</a>
            </div>
          </div>
        </section>
      );
    }
    
    // 3. کامپوننت About
    function About() {
      return (
        <AnimatedSection id="about" className="py-24 bg-slate-800/50">
          <div className="container mx-auto px-6">
            <div className="text-center mb-16">
              <h2 className="text-4xl font-bold mb-4">درباره من</h2>
            </div>
            <div className="flex flex-col md:flex-row items-center gap-12">
              <div className="md:w-1/2 lg:w-2/5">
                <img src="./assets/about.jpg" alt="تصویر درباره من" className="rounded-2xl shadow-2xl w-full transform transition-transform duration-500 hover:scale-105" loading="lazy" />
              </div>
              <div className="md:w-1/2 lg:w-3/5">
                <h3 className="text-3xl font-bold mb-4 gradient-text"> ME </h3>
                <p className="text-lg text-slate-300 leading-relaxed mb-8">
                  با بیش از ۵ سال تجربه، علاقه شدیدی به ساخت محصولات دیجیتال دارم که نه تنها زیبا هستند، بلکه مشکلات واقعی را حل می‌کنند.
                </p>
                <a href="./assets/resume.pdf" download className="inline-flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-lg text-white bg-teal-600 hover:bg-teal-700 transition-colors shadow-md">
                  دانلود رزومه <i data-feather="download" className="w-5 h-5"></i>
                </a>
              </div>
            </div>
          </div>
        </AnimatedSection>
      );
    }
    
    // 4. کامپوننت Portfolio
    function Portfolio() {
      const projects = [
        { title: "اپلیکیشن رهگیری مرسولات", desc: "رهگیری مرسوله به صورت زنده با رابط کاربری مدرن، انیمیشن‌های روان و تایم‌لاین تعاملی.", link: "#", img: "../src/assets/project1.jpg", tags: ['Flutter','Material Design','Dart'] },
        { title: "نرم‌افزار مدیریت و ثبت کاربران", desc: "مدیریت هوشمند و یکپارچه کاربران با سیستم گزارش‌گیری پیشرفته", link: "#", img: "../src/assets/project2.jpg", tags: ['Python','SQLite','Tkinter'] },
        { title: "اپلیکیشنط فروشگاهی", desc: "تجربه خرید آنلاین مدرن با فلاتر.", link: "#", img: "https://picsum.photos/400/300?random=5", tags: ['Flutter', 'Firebase'] },
      ];
      const PortfolioCard = ({ project }) => {
          const [ref, isVisible] = useAnimatedSection();
          return (
              <div ref={ref} className={`bg-slate-800 rounded-2xl shadow-lg overflow-hidden group transform transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 ${isVisible ? 'section-visible' : 'section-hidden'}`}>
                  <img src={project.img} alt={project.title} className="w-full h-56 object-cover" loading="lazy" />
                  <div className="p-6">
                      <div className="flex flex-wrap gap-2 mb-3">
                          {project.tags.map(tag => <span key={tag} className="bg-teal-900/50 text-teal-400 text-sm font-medium px-3 py-1 rounded-full">{tag}</span>)}
                      </div>
                      <h3 className="text-2xl font-bold mb-2 text-white">{project.title}</h3>
                      <p className="text-slate-400 mb-4">{project.desc}</p>
                      <a href={project.link} target="_blank" className="font-bold text-teal-400 hover:text-teal-300 transition-colors inline-flex items-center gap-2">
                          مشاهده پروژه <i data-feather="arrow-left" className="w-5 h-5"></i>
                      </a>
                  </div>
              </div>
          );
      };
      return (
        <section id="portfolio" className="py-24 bg-slate-900">
          <div className="container mx-auto px-6">
            <AnimatedSection className="text-center mb-16">
              <h2 className="text-4xl font-bold mb-4">نمونه‌کارها</h2>
            </AnimatedSection>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
              {projects.map((p, i) => <PortfolioCard key={i} project={p} />)}
            </div>
          </div>
        </section>
      );
    }
    
    // 5. کامپوننت Skills
    function Skills() {
      const skills = [
        { name: "Flutter", level: 95, icon: 'smartphone' }, { name: "Android (Kotlin)", level: 85, icon: 'codesandbox' },
        { name: "python", level: 80, icon: 'code' }, { name: "UI/UX Design (Figma)", level: 90, icon: 'pen-tool' },
      ];
      const SkillBar = ({ skill }) => {
          const [ref, isVisible] = useAnimatedSection();
          return (
              <div ref={ref} className={`mb-8 ${isVisible ? 'section-visible' : 'section-hidden'}`}>
                  <div className="flex justify-between items-center mb-2">
                      <span className="font-bold text-lg flex items-center gap-3 text-slate-200"><i data-feather={skill.icon} className="text-teal-500"></i> {skill.name}</span>
                      <span className="font-mono text-slate-400">{skill.level}%</span>
                  </div>
                  <div className="w-full bg-slate-700 rounded-full h-3 overflow-hidden">
                      <div className="bg-gradient-to-r from-teal-500 to-cyan-500 h-3 rounded-full" style={{ width: isVisible ? `${skill.level}%` : '0%' }}></div>
                  </div>
              </div>
          );
      };
      return (
         <section id="skills" className="py-24 bg-slate-800/50">
           <div className="container mx-auto px-6">
              <AnimatedSection className="text-center mb-16">
                <h2 className="text-4xl font-bold mb-4">جعبه‌ابزار من</h2>
              </AnimatedSection>
              <div className="max-w-4xl mx-auto">
                  {skills.map(s => <SkillBar key={s.name} skill={s} />)}
              </div>
           </div>
         </section>
      );
    }

    // 6. کامپوننت Contact
    function Contact() {
      const [formData, setFormData] = useState({ name: '', email: '', message: '' });
      const [status, setStatus] = useState('idle');
      const [errorMessage, setErrorMessage] = useState('');
      const handleSubmit = async (e) => {
        e.preventDefault(); setStatus('submitting'); setErrorMessage('');
        if (!navigator.onLine) {
          setStatus('error'); setErrorMessage('اتصال اینترنت برقرار نیست.');
          setTimeout(() => { setStatus('idle'); setErrorMessage(''); }, 5000); return;
        }
        try {
          const response = await fetch("https://formspree.io/f/mvgqvrbq", {
            method: 'POST', headers: { 'Accept': 'application/json' }, body: JSON.stringify(formData)
          });
          if (response.ok) {
            setStatus('success'); setFormData({ name: '', email: '', message: '' });
            setTimeout(() => setStatus('idle'), 5000);
          } else { setStatus('error'); setErrorMessage('خطایی در ارسال رخ داد.'); setTimeout(() => { setStatus('idle'); setErrorMessage(''); }, 5000); }
        } catch (error) { setStatus('error'); setErrorMessage('یک خطای پیش‌بینی نشده رخ داد.'); setTimeout(() => { setStatus('idle'); setErrorMessage(''); }, 5000); }
      };
      return (
        <AnimatedSection id="contact" className="py-24 bg-slate-900">
          <div className="container mx-auto px-6">
            <div className="text-center mb-16">
              <h2 className="text-4xl font-bold mb-4">در تماس باشیم</h2>
            </div>
            <div className="max-w-2xl mx-auto bg-slate-800 p-8 rounded-2xl shadow-xl min-h-[480px] flex items-center justify-center">
              {status === 'success' ? (
                <div className="text-center animate-fade-in">
                  <svg className="mx-auto w-24 h-24 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                  <h3 className="text-3xl font-bold mt-4 text-white">ارسال شد!</h3>
                  <p className="text-slate-300 mt-2 text-lg">از پیام شما متشکرم.</p>
                </div>
              ) : (
                <form onSubmit={handleSubmit} className="w-full">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <input type="text" name="name" value={formData.name} onChange={(e) => setFormData({...formData, name: e.target.value})} placeholder="نام شما" required className="w-full p-4 rounded-lg bg-slate-700 border-2 border-transparent text-white focus:outline-none focus:ring-2 focus:ring-teal-500"/>
                    <input type="email" name="email" value={formData.email} onChange={(e) => setFormData({...formData, email: e.target.value})} placeholder="ایمیل شما" required className="w-full p-4 rounded-lg bg-slate-700 border-2 border-transparent text-white focus:outline-none focus:ring-2 focus:ring-teal-500"/>
                  </div>
                  <div className="mb-6">
                    <textarea name="message" value={formData.message} onChange={(e) => setFormData({...formData, message: e.target.value})} placeholder="پیام شما..." rows="5" required className="w-full p-4 rounded-lg bg-slate-700 border-2 border-transparent text-white focus:outline-none focus:ring-2 focus:ring-teal-500"></textarea>
                  </div>
                  <button type="submit" disabled={status === 'submitting'} className="w-full px-8 py-4 rounded-lg font-semibold text-lg text-white bg-gradient-to-r from-teal-500 to-cyan-500 hover:opacity-90 disabled:opacity-50 disabled:cursor-wait">
                    {status === 'submitting' ? 'در حال ارسال...' : 'ارسال پیام'}
                  </button>
                  {status === 'error' && <p className="text-center text-red-500 mt-4 font-semibold">{errorMessage}</p>}
                </form>
              )}
            </div>
          </div>
        </AnimatedSection>
      );
    }
    
    // 7. کامپوننت Footer
    function Footer() {
      const socialLinks = [
        { href: "https://linkedin.com", icon: "linkedin" }, { href: "https://github.com", icon: "github" },
        { href: "https://instagram.com", icon: "instagram" }, { href: "https://twitter.com", icon: "twitter" },
      ];
      return (
        <footer className="bg-slate-900/50 text-slate-400 py-12">
          <div className="container mx-auto px-6 text-center">
             <div className="flex justify-center gap-6 mb-6">
                {socialLinks.map(link => (
                    <a key={link.icon} href={link.href} target="_blank" className="text-slate-400 hover:text-teal-400 transition-colors transform hover:-translate-y-1">
                        <i data-feather={link.icon} className="w-7 h-7"></i>
                    </a>
                ))}
             </div>
            <p className="text-lg mb-2 text-slate-300">طراحی و توسعه با ❤️ توسط حسین طاهری</p>
            <p>&copy; {new Date().getFullYear()} - تمامی حقوق محفوظ است.</p>
          </div>
        </footer>
      );
    }

    // کامپوننت دکمه بازگشت به بالا
    function BackToTopButton() {
        const [isVisible, setIsVisible] = useState(false);
        const toggleVisibility = () => {
            if (window.pageYOffset > 300) setIsVisible(true);
            else setIsVisible(false);
        };
        const scrollToTop = () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };
        useEffect(() => {
            window.addEventListener('scroll', toggleVisibility);
            return () => window.removeEventListener('scroll', toggleVisibility);
        }, []);
        return (
            <div className="fixed bottom-8 left-8 z-50">
                <button type="button" onClick={scrollToTop} className={`bg-teal-500 hover:bg-teal-600 text-white rounded-full p-3 shadow-lg transition-all duration-300 ${isVisible ? 'opacity-100 scale-100' : 'opacity-0 scale-50'}`} aria-label="بازگشت به بالا">
                    <i data-feather="arrow-up" className="w-6 h-6"></i>
                </button>
            </div>
        );
    }

    // کامپوننت اصلی App
    function App() {
      useEffect(() => {
        feather.replace();
      }, []);
      return (
        <div>
          <Header />
          <main>
            <Hero />
            <About />
            <Portfolio />
            <Skills />
            <Contact />
          </main>
          <Footer />
          <BackToTopButton />
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>

</body>
</html>